
<!DOCTYPE html>
<html lang="de"> 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EMSR517 - Ahrtal Rapid Mapping</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin="">
    </script>
</head>
<body>
    <div id="map"></div>
</body>
</html>

<script>
    // Karte initialisieren mit Zentrum im Ahrtal
    var map = L.map('map').setView([50.45316749770243, 6.888651093062578], 13);
    
    // OpenStreetMap Tiles hinzuf체gen
    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> | EMSR517 Copernicus EMS'
    }).addTo(map);

    // Koordinaten aus der JSON-Datei
    var aoiCoordinates = [
        [7.285913150000056, 50.541266815000029], [7.259479437000039, 50.526528389000077],
        [7.236486243000058, 50.525162360000081], [7.200618117000033, 50.522100723000051],
        [7.160744495000074, 50.533758750000061], [7.125745610000024, 50.531443649000039],
        [7.111446455000021, 50.523545068000033], [7.104501151000022, 50.52204706100008],
        [7.093742739000049, 50.525043074000052], [7.077237901000046, 50.523394182000061],
        [7.075845536000031, 50.523641158000032], [7.050075026000059, 50.528103584000064],
        [7.045736079000051, 50.506202536000046], [7.044095813000069, 50.505615070000033],
        [7.024921587000051, 50.511348569000063], [7.009581998000044, 50.508472396000059],
        [6.999733285000048, 50.512132980000047], [6.990494669000043, 50.503330148000032],
        [6.99484460900004, 50.492606452000075], [6.98664302100002, 50.485917759000074],
        [6.978554193000036, 50.481453802000033], [6.969519385000069, 50.470589686000039],
        [6.966917055000067, 50.469275511000035], [6.956067751000035, 50.463673825000058],
        [6.953714518000027, 50.46001324100007], [6.944998843000064, 50.448682863000045],
        [6.937834814000041, 50.435394038000027], [6.940282866000075, 50.425550489000045],
        [6.939512271000069, 50.407364458000075], [6.935659298000076, 50.395959658000038],
        [6.936121655000022, 50.389332545000059], [6.943519363000064, 50.385941929000069],
        [6.947834692000072, 50.379468935000034], [6.940591103000031, 50.375770081000042],
        [6.934734585000058, 50.372379465000051], [6.927028639000071, 50.371608870000045],
        [6.919939169000031, 50.37345829700007], [6.915623840000023, 50.380856005000055],
        [6.912849699000049, 50.39534318300008], [6.913312056000052, 50.40551503100005],
        [6.916086196000037, 50.414145690000055], [6.916702672000042, 50.422930468000061],
        [6.914923033000036, 50.431849463000049], [6.884337742000071, 50.440228657000034],
        [6.873617461000038, 50.436393760000044], [6.85874203700007, 50.424051752000025],
        [6.850058286000035, 50.416156621000027], [6.843711799000062, 50.414871489000063],
        [6.83962632600003, 50.410682518000044], [6.83788319100006, 50.40693477700006],
        [6.839852017000055, 50.395871001000046], [6.842404884000075, 50.394007687000055],
        [6.842070202000059, 50.390660868000055], [6.838970501000063, 50.387807861000056],
        [6.837180287000024, 50.386159933000044], [6.833647373000076, 50.382907403000047],
        [6.831496493000031, 50.383100949000038], [6.773117013000046, 50.378071675000058],
        [6.774560472000076, 50.378242106000073], [6.776867186000061, 50.378655115000072],
        [6.823303891000023, 50.389378306000026], [6.823502916000052, 50.394900938000035],
        [6.824355281000066, 50.414097937000065], [6.830736337000076, 50.417742215000033],
        [6.84084652100006, 50.427765242000078], [6.851131018000046, 50.43648091700004],
        [6.861851299000023, 50.447288355000069], [6.878007188000026, 50.458110703000045],
        [6.881240171000059, 50.459537763000071], [6.89670953600006, 50.461542529000042],
        [6.921199602000058, 50.457905137000068], [6.929915277000021, 50.459266961000026],
        [6.938086223000028, 50.467301724000038], [6.946801898000047, 50.479285778000076],
        [6.958513587000027, 50.483643616000052], [6.970497641000065, 50.500938784000027],
        [6.965897766000069, 50.512567348000061], [6.98678029000007, 50.525352493000071],
        [6.99860024700007, 50.528779920000034], [7.016990322000026, 50.53226619000003],
        [7.029192268000031, 50.539413044000071], [7.04217862400003, 50.546124114000065],
        [7.072596332000046, 50.540371769000046], [7.096876053000074, 50.558152879000033],
        [7.122613414000057, 50.563582702000076], [7.212729358000047, 50.568673976000071],
        [7.219660799000053, 50.566554204000056], [7.229922397000053, 50.563455401000056],
        [7.237694445000045, 50.558821273000035], [7.280253268000024, 50.552808682000034],
        [7.282499336000058, 50.547091009000042], [7.285913150000056, 50.541266815000029]
    ];

    // Koordinaten von [lng, lat] zu [lat, lng] konvertieren (Leaflet Format)
    var leafletCoords = aoiCoordinates.map(coord => [coord[1], coord[0]]);

    // Polygon auf der Karte anzeigen
    var aoiPolygon = L.polygon(leafletCoords, {
        color: '#e74c3c',
        fillColor: '#e74c3c',
        fillOpacity: 0.3,
        weight: 2
    }).addTo(map);

    // Popup mit Informationen hinzuf체gen
    aoiPolygon.bindPopup(`
        <b>EMSR517 - Area of Interest A</b><br>
        Lokalit채t: Bad Neuenahr-Ahrweiler<br>
        Typ: Grading-Monit01<br>
        Datum: 11.08.2021<br>
        Quelle: Copernicus EMS Rapid Mapping
    `);

    // Kartenansicht auf das Polygon zentrieren
    map.fitBounds(aoiPolygon.getBounds());

    // Marker f체r das Zentrum des AOI
    var center = aoiPolygon.getBounds().getCenter();
    L.marker(center).addTo(map)
        .bindPopup('<b>Zentrum AOI A</b><br>Bad Neuenahr-Ahrweiler');

    // Sicherstellen, dass die Karte korrekt angezeigt wird
    setTimeout(function(){ 
        map.invalidateSize();
    }, 100);
</script>

<style>
    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
    }
    
    #map {
        height: 100%;
        width: 100%;
    }
</style>
